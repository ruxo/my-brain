@using Tirax.KMS.App.Services.Interop
@inject KmsJs KmsJs

<MudDrawer ClipMode="DrawerClipMode.Always" Elevation="2" Open="IsOpen" OpenChanged="v => IsOpenChanged.InvokeAsync(v)">
    <MudNavMenu>
        <MudNavLink Href="/" Match="NavLinkMatch.All">Home</MudNavLink>
        
        <AuthorizeView Policy="Authenticated">
            <MudNavLink OnClick="Logout">Logout</MudNavLink>
        </AuthorizeView>
        <AuthorizeView>
            <MudDivider/>
            <MudNavGroup Title="Favorites" />
        </AuthorizeView>
    </MudNavMenu> 
</MudDrawer>

@code {
    
    [Parameter]
    public bool IsOpen { get; set; }
    
    [Parameter]
    public EventCallback<bool> IsOpenChanged { get; set; }

    async Task Logout() {
        await KmsJs.NavigateToLogout();
    }

}