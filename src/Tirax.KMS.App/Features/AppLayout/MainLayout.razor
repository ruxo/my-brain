@using System.Runtime.CompilerServices
@inherits ReactiveSharedLayoutComponent<Session>

@inject Session Session

<MudThemeProvider />
<MudDialogProvider MaxWidth="MaxWidth.Medium" DisableBackdropClick="true" />
<MudSnackbarProvider />

<Drawer IsOpen="Session.DrawerIsOpen" IsOpenChanged="OnIsOpenChanged" />
<MudContainer MaxWidth="@App.MaxWidth" Class="pa-0">
    @Body
</MudContainer>

@code {

    protected override Session ViewModel => Session;

    [MethodImpl(MethodImplOptions.AggressiveInlining)]
    Task OnIsOpenChanged(bool value) => 
        Session.ToggleDrawer.Execute(value).ToTask();

}